{"version":3,"sources":["hooks/UseCanvas.js","components/Canvas.js","App.js","index.js"],"names":["useCanvas","update","options","onMouseMove","context","event","canvasRef","useRef","useEffect","current","getContext","canvas","onmousemove","Canvas","props","particles","Array","from","length","Math","random","width","height","center","useCallback","colors","maxDistance","pythagoras","scaleLinear","domain","range","colorsInverted","distance","x","y","a","b","sqrt","ctx","clearRect","fillStyle","fillRect","voronoi","Delaunay","color","beginPath","renderCell","fill","forEach","p","i","render","renderBounds","strokeStyle","stroke","handleMouseMove","layerX","layerY","ref","App","className","window","innerHeight","innerWidth","ReactDOM","StrictMode","document","getElementById"],"mappings":"kOAmBeA,EAjBG,SAACC,GAEZ,IAFoBC,EAErB,uDAF+B,CACjCC,YAAa,SAACC,EAASC,MAEjBC,EAAYC,iBAAO,MAWzB,OATAC,qBAAU,WACN,IACMJ,EADSE,EAAUG,QACFC,WAAW,MAClCN,EAAQO,OAAOC,YAAc,SAACP,GAC1BH,EAAQC,YAAYC,EAASC,IAEjCJ,EAAOG,KACR,CAACH,EAAQC,IAELI,G,OC2DIO,EAtEA,SAAAC,GACX,IACMC,EAAYC,MAAMC,KAAK,CAAEC,OADrB,MACkC,iBAAM,CAACC,KAAKC,SAAWN,EAAMO,MAAOF,KAAKC,SAAWN,EAAMQ,WAEhGC,EAASC,uBAAY,iBAAM,CAAe,GAAdV,EAAMO,MAA4B,GAAfP,EAAMQ,UAAe,CAACR,EAAMQ,OAAQR,EAAMO,QAEzFI,EAASD,uBAAY,WACvB,IAAME,EAAcC,EAAWJ,IAAS,GAAIA,IAAS,IACrD,OAAOK,cACFC,OAAO,CAAC,EAAGH,IACXI,MAAM,CAAC,OAAQ,WACrB,CAACP,IAEEQ,EAAiBP,uBAAY,WAC/B,IAAME,EAAcC,EAAWJ,IAAS,GAAIA,IAAS,IACrD,OAAOK,cACFC,OAAO,CAAC,EAAGH,IACXI,MAAM,CAAC,UAAW,cACxB,CAACP,IAEES,EAAWR,uBAAY,SAACS,EAAGC,GAC7B,IAAMC,EAAIZ,IAAS,GAAKU,EAClBG,EAAIb,IAAS,GAAKW,EACxB,OAAOP,EAAWQ,EAAGC,KACtB,CAACb,IAEEI,EAAa,SAACQ,EAAGC,GAAJ,OAAUjB,KAAKkB,KAAKF,EAAIA,EAAIC,EAAIA,IAE7CnC,EAASuB,uBAAY,SAAAc,GACvBA,EAAIC,UAAU,EAAG,EAAGD,EAAI3B,OAAOU,MAAOiB,EAAI3B,OAAOW,QACjDgB,EAAIE,UAAY,UAChBF,EAAIG,SAAS,EAAG,EAAGH,EAAI3B,OAAOU,MAAOiB,EAAI3B,OAAOW,QAEhD,IACMoB,EADWC,IAAS1B,KAAKF,GACN2B,QAAQ,CAAC,GAAK,GAAKJ,EAAI3B,OAAOU,MAAOiB,EAAI3B,OAAOW,SAEnEsB,EAAQb,IAAiBC,EAASjB,EAAU,GAAG,GAAIA,EAAU,GAAG,KACtEuB,EAAIE,UAAYI,EAChBN,EAAIO,YACJH,EAAQI,WAAW,EAAGR,GACtBA,EAAIS,OAEJhC,EAAUiC,SAAQ,SAACC,EAAGC,GAClB,GAAU,IAANA,EAAJ,CAGA,IAAMN,EAAQnB,IAASO,EAASiB,EAAE,GAAIA,EAAE,KACxCX,EAAIE,UAAYI,EAChBN,EAAIO,YACJH,EAAQI,WAAWI,EAAGZ,GACtBA,EAAIS,WAGRT,EAAIO,YACJH,EAAQS,OAAOb,GACfI,EAAQU,aAAad,GACrBA,EAAIe,YAAc,OAClBf,EAAIgB,WACL,CAAC7B,EAAQM,EAAgBC,EAAUjB,IAEhCwC,EAAkB/B,uBAAY,SAACpB,EAASC,GAC1CU,EAAU,GAAK,CAACV,EAAMmD,OAAQnD,EAAMoD,QACpCxD,EAAOG,KACR,CAACW,EAAWd,IAETK,EAAYN,EAAUC,EAAQ,CAAEE,YAAaoD,IAEnD,OAAO,oCAAQG,IAAKpD,GAAeQ,KCzDxB6C,MAZf,WAKE,OACE,qBAAKC,UAAU,MAAf,SACE,cAAC,EAAD,CAAQtC,OAJS,IAIDuC,OAAOC,YAA4BzC,MALnC,IAK0CwC,OAAOE,gBCLvEC,IAASb,OACP,cAAC,IAAMc,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.948873bb.chunk.js","sourcesContent":["import { useEffect, useRef } from \"react\"\r\n\r\nconst useCanvas = (update, options = {\r\n    onMouseMove: (context, event) => {}\r\n}) => {\r\n    const canvasRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const context = canvas.getContext('2d');\r\n        context.canvas.onmousemove = (event) => {\r\n            options.onMouseMove(context, event);\r\n        }\r\n        update(context);\r\n    }, [update, options]);\r\n\r\n    return canvasRef;\r\n}\r\n\r\nexport default useCanvas;\r\n","import React, { useCallback } from \"react\";\r\nimport { Delaunay } from 'd3-delaunay';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport useCanvas from \"../hooks/UseCanvas\";\r\n\r\nconst Canvas = props => {\r\n    const n = 200;\r\n    const particles = Array.from({ length: n }, () => [Math.random() * props.width, Math.random() * props.height]);\r\n\r\n    const center = useCallback(() => [props.width * 0.5, props.height * 0.5], [props.height, props.width]);\r\n\r\n    const colors = useCallback(() => {\r\n        const maxDistance = pythagoras(center()[0], center()[1]);\r\n        return scaleLinear()\r\n            .domain([0, maxDistance])\r\n            .range(['#fff', '#d00']);\r\n    }, [center]);\r\n\r\n    const colorsInverted = useCallback(() => {\r\n        const maxDistance = pythagoras(center()[0], center()[1]);\r\n        return scaleLinear()\r\n            .domain([0, maxDistance])\r\n            .range(['#DEDC47', '#edec9b'])\r\n    }, [center]);\r\n\r\n    const distance = useCallback((x, y) => {\r\n        const a = center()[0] - x;\r\n        const b = center()[1] - y;\r\n        return pythagoras(a, b);\r\n    }, [center]);\r\n\r\n    const pythagoras = (a, b) => Math.sqrt(a * a + b * b);\r\n\r\n    const update = useCallback(ctx => {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        ctx.fillStyle = '#ffffff';\r\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n\r\n        const delaunay = Delaunay.from(particles);\r\n        const voronoi = delaunay.voronoi([0.5, 0.5, ctx.canvas.width, ctx.canvas.height]);\r\n\r\n        const color = colorsInverted()(distance(particles[0][0], particles[0][1]));\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        voronoi.renderCell(0, ctx);\r\n        ctx.fill();\r\n\r\n        particles.forEach((p, i) => {\r\n            if (i === 0) {\r\n                return;\r\n            }\r\n            const color = colors()(distance(p[0], p[1]));\r\n            ctx.fillStyle = color;\r\n            ctx.beginPath();\r\n            voronoi.renderCell(i, ctx);\r\n            ctx.fill();\r\n        });\r\n\r\n        ctx.beginPath();\r\n        voronoi.render(ctx);\r\n        voronoi.renderBounds(ctx);\r\n        ctx.strokeStyle = '#000';\r\n        ctx.stroke();\r\n    }, [colors, colorsInverted, distance, particles]);\r\n\r\n    const handleMouseMove = useCallback((context, event) => {\r\n        particles[0] = [event.layerX, event.layerY];\r\n        update(context);\r\n    }, [particles, update]);\r\n\r\n    const canvasRef = useCanvas(update, { onMouseMove: handleMouseMove });\r\n\r\n    return <canvas ref={canvasRef} {...props} />\r\n}\r\n\r\nexport default Canvas;\r\n","import './App.css';\r\nimport Canvas from './components/Canvas';\r\n\r\nfunction App() {\r\n\r\n  const widthFactor = 0.75;\r\n  const heightFactor = 0.75\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Canvas height={window.innerHeight * heightFactor} width={window.innerWidth * widthFactor} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}